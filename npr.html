<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/css/bootstrap.min.css" integrity="sha384-Smlep5jCw/wG7hdkwQ/Z5nLIefveQRIY9nfy6xoR1uRYBtpZgI6339F5dgvm/e9B" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.typekit.net/yzm6szz.css">
    <link href="https://fonts.googleapis.com/css?family=Chivo:400,400i,700,700i,900" rel="stylesheet">

    <title>Robert Weisbecker</title>
    <script>
        function initComparisons() {
            var x, i;
            /*find all elements with an "overlay" class:*/
            x = document.getElementsByClassName("img-comp-overlay");
            for (i = 0; i < x.length; i++) {
                /*once for each "overlay" element:
                pass the "overlay" element as a parameter when executing the compareImages function:*/
                compareImages(x[i]);
            }

            function compareImages(img) {
                var slider, img, clicked = 0,
                    w, h;
                /*get the width and height of the img element*/
                w = img.offsetWidth;
                h = img.offsetHeight;
                /*set the width of the img element to 50%:*/
                img.style.width = (w / 2) + "px";
                /*create slider:*/
                slider = document.createElement("DIV");
                slider.setAttribute("class", "img-comp-slider offset-lg-1");
                /*insert slider*/
                img.parentElement.insertBefore(slider, img);
                /*position the slider in the middle:*/
                slider.style.top = (h / 2) - (slider.offsetHeight / 2) + "px";
                slider.style.left = (w / 2) - (slider.offsetWidth / 2) + "px";
                /*execute a function when the mouse button is pressed:*/
                slider.addEventListener("mousedown", slideReady);
                /*and another function when the mouse button is released:*/
                window.addEventListener("mouseup", slideFinish);
                /*or touched (for touch screens:*/
                slider.addEventListener("touchstart", slideReady);
                /*and released (for touch screens:*/
                window.addEventListener("touchstop", slideFinish);

                function slideReady(e) {
                    /*prevent any other actions that may occur when moving over the image:*/
                    e.preventDefault();
                    /*the slider is now clicked and ready to move:*/
                    clicked = 1;
                    /*execute a function when the slider is moved:*/
                    window.addEventListener("mousemove", slideMove);
                    window.addEventListener("touchmove", slideMove);
                }

                function slideFinish() {
                    /*the slider is no longer clicked:*/
                    clicked = 0;
                }

                function slideMove(e) {
                    var pos;
                    /*if the slider is no longer clicked, exit this function:*/
                    if (clicked == 0) return false;
                    /*get the cursor's x position:*/
                    pos = getCursorPos(e)
                    /*prevent the slider from being positioned outside the image:*/
                    if (pos < 0) pos = 0;
                    if (pos > w) pos = w;
                    /*execute a function that will resize the overlay image according to the cursor:*/
                    slide(pos);
                }

                function getCursorPos(e) {
                    var a, x = 0;
                    e = e || window.event;
                    /*get the x positions of the image:*/
                    a = img.getBoundingClientRect();
                    /*calculate the cursor's x coordinate, relative to the image:*/
                    x = e.pageX - a.left;
                    /*consider any page scrolling:*/
                    x = x - window.pageXOffset;
                    return x;
                }

                function slide(x) {
                    /*resize the image:*/
                    img.style.width = x + "px";
                    /*position the slider:*/
                    slider.style.left = img.offsetWidth - (slider.offsetWidth / 2) + "px";
                }
            }
        }

    </script>
</head>

<style>
    @import url('https://rsms.me/inter/inter-ui.css');

    html {
        font-family: 'Inter UI', sans-serif;
    }

    @supports (font-variation-settings: normal) {
        html { font-family: 'Inter UI var alt', sans-serif; }
    }
    
    
    .ss02 {
        -moz-font-feature-settings: 'calt' 1, 'ss02' 1;
      -ms-font-feature-settings: 'calt' 1, 'ss02' 1;
      -o-font-feature-settings: 'calt' 1, 'ss02' 1;
      -webkit-font-feature-settings: 'calt' 1, 'ss02' 1;
      font-feature-settings: 'calt' 1, 'ss02' 1;
    }   

        * {
        box-sizing: border-box;
    }

    .img-comp-container {
        position: relative;
        height: 492px;
        /*should be the same height as the images*/
    }

    .img-comp-img {
        position: absolute;
        width: auto;
        height: auto;
        overflow: hidden;
    }

    .img-comp-img img {
        display: block;
        vertical-align: middle;
    }

    .img-comp-slider {
        position: absolute;
        z-index: 9;
        cursor: ew-resize;
        /*set the appearance of the slider:*/
        width: 6px;
        height: 500px;
        background-color: #000;
        border: 1px solid white;
        opacity: 1;
        border-radius: 4px;
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.24);
    }

    
</style>

<body>

    <!-- HERO SECTION -->

    <!-- INTRO SECTION -->

    <section class="intro">
        <div class="container">
            <div class="row py-5" id="intro">
                <div class="col-md-8 offset-md-1">
                    <h1 class="ss02" style="font-family: 'Inter UI';">NPR Labs</h1>
                    <p class="lead">As NPR’s in-house technology research & development center, NPR Labs provides a variety of tools to assist public broadcasters nationwide, including the Mapping and Population System (MAPS), a web app that displays reception coverage maps for all public radio and television stations in the US. During my internship in the spring of 2017, I worked as part of a small team to build a new version of the tool from the ground up.</p>
                    <hr class="d-block d-md-none mt-3">
                </div>



                <dl class="col-md-3 mt-md-4" id="intro-description">
                    <h2 class="text-uppercase small font-weight-bold">Details</h2>
                    <dt class="">Project</dt>
                    <dd class="text-muted">Mapping & Population System</dd>
                    <dt class="">Role</dt>
                    <dd class="text-muted">UI/UX Designer</dd>
                    <dt class="">Team</dt>
                    <dd class="">
                        <p><a href="text-reset">Christian Wood</a><span class="text-muted"> / Developer<br></span>Alice Goldfarb <span class="text-muted">/ Director</span>
                        </p>
                    </dd>
                    <dt class="">When</dt>
                    <dd class="">Winter-Spring 2017</dd>
                    <!--                    <hr class="d-block d-md-none">-->
                </dl>

            </div>
        </div>
    </section>

    <section>



        <div class="container">
            <div class="row my-5">
                <div class="col-md-8 offset-md-2">
                    <h2 class="mb-3">Background</h2>
                    <p>It was primarily used by member station managers, underwriters, and engineers across the country to inform decision-making around station planning efforts, such as improving reception or adding new services. However, it was first released in 2011 and hadn't changed much in the following years.</p>
                    <p>Our main goals for this redesign effort were to overhaul the interface for better usability and increase performance, so we decided to use VueJS, a modern Javascript framework, and Mapbox GL JS, which provided additional customizability and performance in rendering the map view.</p>
                </div>
            </div>
            <div class="row my-5">
                <div class="col-md-8 offset-md-2">
                    <h2>Architecture</h2>
                    <p>As the name suggests, MAPS consists of a map dotted with pins representing radio and television stations across the country. Each station within the current map view is listed in a sidebar, and users may either search for stations using a search bar in the top nav or drag, pinch, and zoom the map to find what they're looking for. The list also contains controls to toggle contour or coverage overlays on the map. When a coverage is activated, its callsign will appear as a chip below the main nav for quick access.</p>
                    <p>Clicking a station card in the list opens a station detail view atop the list that includes additional station information, such as street address, contact information, and demographic information of the coverage area scraped from Census data. When a user searches for a station, the search results take over the sidebar, and the map zooms to the first result.</p>
                    <p>In the top nav, a persistent search bar allows users to search for stations by callsign, street address, or jump to a city or state.</p>

                    <h2>UI Improvements</h2>
                    <h3>Layout</h3>
                    <p>We retained the same basic layout as the existing tool, with a sidebar containing visible stations and a global search bar. Since users preferred to search for stations, rather than panning around the map, we gave more prominence to the search field, while moving additional settings and filters into a popover panel. This change also accommodated mobile users, for whom dragging a map within a mobile browser can prove clumsy.</p>
                </div>
                <div class="container">
                    <div class="row img-comp-container d-none d-md-block">
                        <div class="col-lg-10 offset-lg-1 img-comp-img">
                            <img src="images/npr-labs/map-before.png" width="800px" height="492px">
                        </div>
                        <div class="col-lg-10 offset-lg-1 img-comp-img img-comp-overlay">
                            <img src="images/npr-labs/map-after.png" width="800px" height="500px">
                        </div>
                    </div>
                    <div class="col-md-8 offset-md-2">
                        <h3>Look & Feel</h3>
                        <p>Assorted UI enhancements, such as hover states on each station card and visual design that reflected NPR’s branding. NPR’s mobile applications use Google Material Design, so we incorporated <a href="https://vuematerial.io/">Vue Material</a> for cohesion and rapid component-based development. The interface uses the typefaces Gotham and Knockout to match <a href="https://NPR.org">NPR.org</a>, with a color palette derived from NPR’s brand colors.</p>
                    </div>
                    <div class="col-12">
                        <figure class="figure">
                            <img src="images/npr-labs/map-ui.png" class="figure-img img-fluid rounded shadow-lg" />
                            <figcaption class="figure-caption text-center font-italic">UI Elements</figcaption>
                        </figure>
                    </div>

                    <div class="col-md-8 offset-md-2">
                        <h2>Usability Enhancements</h2>
                        <h4>Station Cards</h4>
                        <p>Originally, stations were listed in the sidebar with only their callsigns to identify them. We expanded these list items into cards that included each station’s location, and labelled the controls to differentiate between coverages and contours.
                            <br>We also added logos for each member station make scanning the sidebar easier, while letting us inject some member station branding into the interface (the shots seen here were taken before the logos were added, so they are using the logo for WAMU in DC as a placeholder).
                            <br>
                            We were able to reuse the station card component on the mobile view, displaying it as a bottom drawer, so that users could access a given station’s information without having to switch over to the list view. As users moved around the map, the drawer updates to display the closest station.</p>

                        <h3>Station Detail View</h3>
                        <p>In order to accommodate the need for more in-depth station information, we added a detail view in the sidebar once users clicked on each station. Previously, this information was restricted to popovers on the map that would appear on hover over a station pin or name in the list. Demographic information was also moved into the station detail view, so users could access that information without navigating away from the map.</p>

                        <h2>Added Functionality</h2>
                        <p>To the sidebar we introduced a new persistent option to show all nearby station contours for stations, and another to hide all visible contours. This helped to improve performance and usability, as users would sometimes leave unneeded coverage overlays active, causing increased lag if they were to navigate away.</p>

                        <p>Additionally, we created a new toolbar that displayed active contours as chips. This gave users a visual reminder of which contours were active and allowed them to jump to an active station to center it on the map, view station details, or quickly toggle it off.</p>

                        <h2>Improved Performance & Data</h2>
                        <p>To increase performance, we chose to have the map render station pins only when a user was zoomed in to a certain level. Previously, the map would render all pins before auto-zooming to a user’s current location, which caused a long initial load time. Since member stations are all located within the United States, it wasn’t necessary to keep rendering the stations when a user was zoomed out far enough to include the whole globe.
                            <br>
                            After some testing, we settled on a zoom level of around 600 miles wide, which ensured that users could compare coverages between members and affiliates in contiguous states (for reference, the average width of a state is about 300 miles).
                        </p>


                    </div>
                </div>
                <div class="row py-5">
                    <div class="col-8 embed-responsive embed-responsive-1by1 mx-auto my-5">
                        <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/MORbimYdRt4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                    <figure class="figure col-8 my-auto">
                        <video width="100%" height="auto" controls class="rounded shadow-lg">
                            <source src="images/npr-labs/maps-desktop-settings-720.mp4" class="figure-img img-fluid rounded shadow-lg" type="video/mp4">
                        </video>
                        <figcaption class="figure-caption text-center font-italic">UI Elements</figcaption>
                    </figure>
                    <figure class="figure col-4">
                        <video width="100%" height="auto" controls style="border-radius: 48px;">
                            <source src="images/npr-labs/maps-mobile-1.mov" class="figure-img img-fluid rounded shadow-lg" type="video/mp4">
                        </video>
                        <figcaption class="figure-caption text-center font-italic">UI Elements</figcaption>
                    </figure>
                </div>
            </div>
    </section>

    <section>
        <div class="container">





            <video class="rounded shadow-lg" width="100%" height="auto" controls>
                <source src="images/npr-labs/map-desktop-1.mov" type="video/mp4">
            </video>

        </div>


        <!-- SECTION 2 -->

    </section>

    <script>
        /*Execute a function that will execute an image compare function for each element with the img-comp-overlay class:*/
        initComparisons();

    </script>

</body>

</html>
